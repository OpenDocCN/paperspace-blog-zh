# MLOps 简介

> 原文：<https://blog.paperspace.com/introduction-to-mlops/>

## 介绍

大多数数据科学家都不是专业的程序员。虽然他们擅长选择或创建最佳模型来解决机器学习问题，但他们不一定具备在生产环境中打包、测试、部署和维护该模型的专业知识。这正是 MLOps 来救援的地方。

MLOps 在数据科学家和生产团队之间架起了一座桥梁。这是一种将 DevOps 与机器学习相结合的实践。本文讨论了 MLOps、为什么需要它、MLOps 的挑战、可用的工具以及 MLOps 管道如何工作。

具体来说，我们将涵盖:

*   什么是 MLOps？
*   我们为什么需要 MLOps？
*   MLOPs 和 DevOps 之间的相似之处
*   MLOPs 和 DevOps 之间的不同之处
*   什么是 MLOPs 管道？
*   机器学习项目为什么会失败？
*   MLOps:核心原则
*   MLOps:最佳实践
*   摘要

我们开始吧！

## 什么是 MLOps？

Machine Learning Operations(也称为 MLOps)是一个工具和最佳实践的集合，用于改善团队之间的沟通，并自动化端到端的机器学习生命周期，以提高持续集成和部署效率。这是一个概念，指的是将历史悠久的 DevOps 方法与不断发展的机器学习科学相结合。

MLOps 不仅仅包括模型构建和设计。它包括数据管理、自动化模型开发、代码生成、模型培训和再培训、持续模型开发、部署和模型监控。将 DevOps 思想融入机器学习可以缩短开发周期，改善质量控制，并能够适应不断变化的业务需求。

系统管理员、数据科学团队和其他业务部门相互协作和沟通，以促进对如何创建和维护生产模型的共同理解，这与 DevOps 对软件的理解非常相似。DevOps 是一种经过验证的实践，可以提供快速的开发生命周期，提高开发速度，通过适当的测试提高代码质量，并帮助实现更快的上市时间。

## 我们为什么需要 MLOps？

**长期价值和降低的风险。** MLOps 帮助组织创造长期价值，同时降低与数据科学、机器学习和人工智能计划相关的风险。

**简化流程，改善客户体验。**机器学习可以帮助部署解决方案，通过简化流程、使用数据分析进行决策以及改善客户体验来发现以前未开发的收入流、节省时间并降低资源成本。

自动化和更快的上市时间。 MLOps automation 可加快上市速度，降低运营成本，使企业能够更加敏捷、更具战略性地做出决策。

## MLOPs 和 DevOps 之间的相似之处

MLOps 和 DevOps 都需要流程自动化、持续集成和持续交付。

它还有助于对 MLOps 和 DevOps 的代码基础进行适当的测试。

此外，软件开发人员和管理基础设施的人员以及其他利益相关者之间应该有充分的协作。

## MLOps 和 DevOps 之间的不同之处

虽然 MLOps 是从 DevOps 派生出来的，但是两者还是有细微的区别。

在 MLOps 中，数据是开发机器学习模型的必要输入。但是在 DevOps 中，数据是程序的输出，而不是输入。

在 MLOPs 中，必须在生产中不断验证模型，以防新数据随着时间的推移导致性能下降。软件系统在 DevOps 中不变质；仅仅出于健康维护的目的对其进行监控。

模型训练、模型测试和验证等概念都是 MLOps 独有的，与 DevOps 的传统软件领域无关。此外，训练模型往往是计算密集型的，因此(通常)需要使用强大的 GPU。

MLOps 需要持续培训(CT)，这是一个自动识别由于模型当前部署版本的性能下降而需要重新培训和重新部署特定模型的场景的过程。

如你所见，尽管它们有相似之处，但你不能只使用 DevOps 工具来运行机器学习项目；有太多特定于机器学习的要求。

## 什么是 MLOPs 管道？

MLOps 管道是为自动设计、部署和管理模型工作流而触发的连续步骤。机器学习 CI/CD 管道由以下较小的管道组成:

*   数据管道:这个管道负责执行 ETL，并自动将必要的数据引入模型。
*   环境管道:这个管道保证正确的依赖项总是被加载和可用。
*   训练管道:这个管道负责训练你的模型。根据 MLOps 管道的设计，可能需要数据管道和培训管道来导入数据和依赖项。
*   测试管道:这个管道负责验证训练好的模型。它可能经常利用根据预定义的时间表触发的自动化测试用例。
*   部署管道:该管道用于在预生产或生产环境中部署您的机器学习模型

### MLOps 的挑战

与其他技术类似，MLOps 也面临着挑战。以下是您在组织中实施 MLOps 时可能面临的一些挑战:

*   数据质量:模型的质量与用于训练模型的数据质量成正比。数据质量是构建和训练模型的最关键因素之一，以便这些模型能够产生更好的见解或预测。
*   数据量:随着数据集大小的增长，机器学习模型的准确性会提高，因为更多的数据被用于训练模型。同时，如果底层资源不能适应数据增长，比如增加更多的存储和处理能力，那么模型的有用性就会大打折扣。
*   部署:部署是另一个挑战，因为部署机器学习模型涉及部署模型*和用于训练它的数据*。除此之外，您可能还需要重新训练您的模型，并且验证它们。如果您尝试手动完成，这将是一个耗时的过程。

### 典型机器学习项目中的各种团队

通常，在运行机器学习项目的组织中会有以下团队:

*   **数据工程团队:**该团队负责在您组织的各种应用程序中构建数据管道
*   **IT 团队:**该团队确保在处理机器学习项目时，IT 安全标准得到正确执行
*   **测试团队:**这个团队负责验证数据科学家创建的机器学习模型的准确性
*   **运营团队:**运营团队负责保持系统在生产环境中运行，并跟踪每天的进度。
*   **数据科学家团队:**这个团队负责创建和训练预测性的机器学习模型。数据科学家团队还需要与所有其他团队合作，以使机器学习项目取得成功。

## 机器学习项目为什么会失败？

机器学习项目失败的原因有很多。本节将对其中一些进行讨论。

#### 1.缺乏团队协作

为了取得成功，数据科学家必须与多个团队协同工作，而不是孤立工作。缺乏沟通和协作对整个团队的成功是有害的，因此可能是失败的原因。

#### 2.缺乏持续改进

由于模型性能会随着时间的推移而降低，因此您应该在维护周期中升级模型。一个成功的机器学习项目应该根据收到的反馈或数据变化时，作为一个连续的过程进行评估和改进。然而，数据科学家往往无法迅速实现改进。对于每个数据收集周期，他们需要再次构建、测试和部署模型，这需要他们与多个团队联系。

#### 3.缺乏专业知识

缺乏专业知识是机器学习项目失败的另一个原因。你需要专家数据科学家来管理你的机器学习项目。不幸的是，尽管公司一直在拼命招聘专业的数据科学家，但合适的人才却严重短缺。

#### 4.数据的质量和数量

数据的质量和数量是其他问题。通常，机器学习项目使用大型数据集，因为您需要大量数据来进行更好的预测。然而，随着数据量的增长，与之相关的复杂性和挑战也随之增加。此外，数据通常是从多个来源合并而来的，数据可能不同步。这可能会带来另一个挑战，因为“坏”数据不会提供更好的见解。来自不同位置的数据也可能有安全限制，甚至可能是各种格式，如结构化、非结构化、文本、图像等。

### 你如何防止机器学习项目失败？

虽然没有确保机器学习项目成功的具体指导方针，但这里有一些方法可能有助于防止它们失败。

*   如果你了解机器学习是如何工作的，以及处理机器学习项目与其他类型的项目有何不同，这将会有所帮助。
*   项目的范围应该适当，要有现实的目标、合理的预算和领导的支持。
*   如果你有必要的资源来成功地执行一个机器学习项目，并且团队成员之间有良好的沟通和协作，这将会有所帮助。
*   你的团队应该擅长收集、存储、清理和分析海量数据。

## MLOps:核心原则

随着机器学习和人工智能在软件产品和服务中的使用量激增，每个人都应该小心遵循 MLOps 最佳实践，并使用正确的工具来实时测试、部署、管理和监控机器学习模型。您可以利用 MLOps 来逃避您的机器学习应用程序中的“技术债务”。

### 自动化

如果你想在你的机器学习项目中有效地使用 MLOps，自动化应该是你的优先选择。你的机器学习过程的成熟度取决于你的自动化程度。这反过来可以提高开发、训练和部署机器学习模型的速度。此外，这一原则促进了完全自动化的 ML 工作流的使用，无需人工参与。

### 版本控制

版本化旨在将机器学习训练脚本、模型和用于模型训练的数据集视为 DevOps 流程中的一等公民，并确保正确跟踪数据集和代码库中的任何更改。版本控制系统保存并跟踪模型的不同版本。这使得在需要时可以轻松无缝地恢复到以前的版本。

### 测试

测试是 MLOps 生命周期的一个重要方面。MLOps 支持基于数据管道、ML 模型管道和应用程序管道的机器学习系统的结构化测试技术。因此，您应该准备好测试功能和数据、模型开发以及机器学习基础设施的方法。

### 监视

一旦成功部署了机器学习模型，就应该对其进行监控，以了解它是否按预期执行。此外，依赖关系、数据版本、使用以及对模型所做的更改都会被不时地监控。

## MLOps:最佳实践

### 沟通和协作

虽然数据科学家指导应该如何构建模型，但您需要一个工程师和战略家团队来取得成功。您应该为您的团队雇佣主题专家(也称为 SME)、数据科学家、软件工程师和业务分析师。因此，保持适当的沟通和协作是非常必要的。

### 验证数据集

数据验证是您应该采用的最重要的实践之一。一旦模型投入生产，性能可能会降低，并且您可能无法获得正确的预测。这就是为什么您应该重新培训模型，即使这在时间和资源上都是一件昂贵的事情。

### 建立明确的商业目标

应该恰当地定义业务目标，并且你应该心中有一个明确的目标。你应该知道你试图用机器学习解决的商业问题，并确定如何解决它。最重要的是，您应该知道您的模型为组织提供了什么价值。

### 集装箱化

容器化是指程序在称为容器的独立用户空间中执行，所有这些空间都使用标准的操作系统。最好是利用集装箱化来自动化整个过程，从模型开发开始，到生产阶段。你可以用 [Docker](https://www.docker.com/) 来做这个。

## 摘要

MLOps 包括一系列成熟的技术，用于自动化机器学习生命周期，以消除模型设计、开发和操作之间的差异。机器学习计划不再关注纯数据科学。相反，数据和云工程技能对于管理整个机器学习生命周期变得越来越重要。这就是 MLOps 的用武之地。